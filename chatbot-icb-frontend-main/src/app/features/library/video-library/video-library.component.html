<section class="library">
  <header class="filters">
    <mat-form-field appearance="outline" class="search">
  <mat-icon matPrefix>search</mat-icon>

  <input
    matInput
    placeholder="Buscar (derivadas, matrices, MRU...)"
    [value]="query()"
    (input)="updateQuery($event)"
  />

  <button
    mat-icon-button
    matSuffix
    type="button"
    aria-label="Limpiar"
    *ngIf="query() !== ''"
    (click)="clearQuery()"
  >
    <mat-icon>close</mat-icon>
  </button>
</mat-form-field>


    <mat-chip-set class="chips">
      <mat-chip-option (click)="setSubject('Todos')"   [selected]="subject()==='Todos'">Todos</mat-chip-option>
      <mat-chip-option (click)="setSubject('Cálculo')" [selected]="subject()==='Cálculo'">Cálculo</mat-chip-option>
      <mat-chip-option (click)="setSubject('Álgebra')" [selected]="subject()==='Álgebra'">Álgebra</mat-chip-option>
      <mat-chip-option (click)="setSubject('Física')"  [selected]="subject()==='Física'">Física</mat-chip-option>
    </mat-chip-set>
  </header>

  <div class="grid">
    <mat-card class="vid" *ngFor="let v of filtered()">
  <img mat-card-image [src]="v.thumb" [alt]="v.title" />
  <mat-card-content>
    <h3>{{ v.title }}</h3>
    <p class="meta">{{ v.channel }} • {{ v.duration }} • {{ v.subject }}</p>
  </mat-card-content>
  <mat-card-actions class="actions" align="end">
  <button mat-stroked-button color="primary" (click)="openVideo(v)">
    <mat-icon>play_arrow</mat-icon>
    Ver
  </button>

  <button mat-flat-button color="primary" class="save" (click)="saveVideo(v)">
    <mat-icon>bookmark_add</mat-icon>
    Guardar
  </button>
</mat-card-actions>
</mat-card>

  </div>
</section>
